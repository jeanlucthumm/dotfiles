// Input configuration
input {
    keyboard {
        xkb {
            layout "us"
            options "caps:super"
        }
        repeat-delay 150
        repeat-rate 80
    }

    touchpad {
        tap
        natural-scroll
        scroll-factor 0.3
        click-method "clickfinger"
    }

    mouse {
        accel-speed 0.0
    }
}

// Output configuration - adjust monitor names and settings as needed
output "DP-1" {
    mode "3840x2160@144.000"
    position x=0 y=0
    scale 1.0
}

output "DP-3" {
    mode "3840x2160@60.000"
    position x=3840 y=-900
    scale 1.0
    transform "270"
}

// Layout configuration
layout {
    gaps 20
    always-center-single-column
    // center-focused-column "never"
    // preset-column-widths {
    //     proportion 0.33333
    //     proportion 0.5
    //     proportion 0.66667
    // }
    // default-column-width { proportion 0.5; }
    // focus-ring {
    //     width 3
    //     active-color "#45707a"
    //     inactive-color "#a89984"
    // }
    // border {
    //     width 3
    //     active-color "#45707a"
    //     inactive-color "#a89984"
    // }
}

// Animations - similar to your Hyprland bezier and timings
// animations {
//     window-movement {
//         spring damping-ratio=1.0 stiffness=800 epsilon=0.0001
//     }
//     window-open {
//         spring damping-ratio=1.0 stiffness=800 epsilon=0.0001
//     }
//     window-close {
//         spring damping-ratio=1.0 stiffness=800 epsilon=0.0001
//     }
//     horizontal-view-movement {
//         spring damping-ratio=1.0 stiffness=800 epsilon=0.0001
//     }
//     workspace-switch {
//         spring damping-ratio=1.0 stiffness=800 epsilon=0.0001
//     }
//     config-notification-open-close {
//         spring damping-ratio=1.0 stiffness=800 epsilon=0.0001
//     }
// }

// Window rules
window-rule {
    match app-id="org.gnome.Nautilus"
    default-column-width { proportion 0.5; }
}

window-rule {
    match app-id="kitty" title="scratchpad"
    open-on-workspace "scratchpad"
    default-column-width { fixed 1880; }
}

window-rule {
    geometry-corner-radius 12
    clip-to-geometry true
}

// Key bindings - translated from your Hyprland config
binds {
    // Terminal
    Mod+Return { spawn "kitty"; }

    // Applications
    Mod+N { spawn "nautilus"; }
    Mod+C { spawn "zen-beta"; }
    Mod+X { spawn "qutebrowser"; }
    Mod+D { spawn "wofi" "--show" "drun"; }

    // Window management
    Mod+Q { close-window; }
    Mod+F { maximize-column; }
    Mod+Shift+Space { toggle-window-floating; }

    // Focus movement
    Mod+H { focus-column-left; }
    Mod+L { focus-column-right; }
    Mod+K { focus-window-up; }
    Mod+J { focus-window-down; }

    // Monitor focus switching
    Mod+Shift+H { focus-monitor-left; }
    Mod+Shift+L { focus-monitor-right; }

    // Window movement
    Mod+Ctrl+H { move-column-left; }
    Mod+Ctrl+L { move-column-right; }
    Mod+Ctrl+K { move-window-up; }
    Mod+Ctrl+J { move-window-down; }

    // Workspace switching
    Mod+1 { focus-workspace 1; }
    Mod+2 { focus-workspace 2; }
    Mod+3 { focus-workspace 3; }
    Mod+4 { focus-workspace 4; }
    Mod+5 { focus-workspace 5; }
    Mod+6 { focus-workspace 6; }
    Mod+7 { focus-workspace 7; }
    Mod+8 { focus-workspace 8; }
    Mod+9 { focus-workspace 9; }
    Mod+0 { focus-workspace 10; }

    // Move to workspace
    Mod+Shift+1 { move-column-to-workspace 1; }
    Mod+Shift+2 { move-column-to-workspace 2; }
    Mod+Shift+3 { move-column-to-workspace 3; }
    Mod+Shift+4 { move-column-to-workspace 4; }
    Mod+Shift+5 { move-column-to-workspace 5; }
    Mod+Shift+6 { move-column-to-workspace 6; }
    Mod+Shift+7 { move-column-to-workspace 7; }
    Mod+Shift+8 { move-column-to-workspace 8; }
    Mod+Shift+9 { move-column-to-workspace 9; }
    Mod+Shift+0 { move-column-to-workspace 10; }

    // Screenshots
    // Mod+Shift+S { spawn "sh" "-c" "fish ~/.config/hypr/screencap.fish"; }

    // System controls
    Mod+Shift+E { quit; }
    Mod+Backslash { spawn "makoctl" "dismiss"; }

    // Audio controls
    XF86AudioRaiseVolume { spawn "swayosd-client" "--output-volume" "raise"; }
    XF86AudioLowerVolume { spawn "swayosd-client" "--output-volume" "lower"; }
    XF86AudioMute { spawn "swayosd-client" "--output-volume" "mute-toggle"; }

    // Brightness controls
    XF86MonBrightnessUp { spawn "swayosd-client" "--brightness" "raise"; }
    XF86MonBrightnessDown { spawn "swayosd-client" "--brightness" "lower"; }

    // Column resizing
    Mod+R { switch-preset-column-width; }
    Mod+Shift+R { reset-window-height; }

    // Vertical splits within columns
    Mod+V { consume-window-into-column; }
    Mod+Shift+V { expel-window-from-column; }

    // Mouse workspace switching
    Mod+WheelScrollDown cooldown-ms=150 { focus-workspace-down; }
    Mod+WheelScrollUp cooldown-ms=150 { focus-workspace-up; }

    // Special workspace (scratchpad equivalent)
    // Mod+S { focus-workspace "scratchpad"; }
    // Mod+Shift+S { move-column-to-workspace "scratchpad"; }
}

// Startup commands
spawn-at-startup "dbus-update-activation-environment" "--systemd" "DISPLAY" "WAYLAND_DISPLAY" "XDG_CURRENT_DESKTOP"
spawn-at-startup "swaybg" "-m" "fill" "-i" "/home/jeanluc/nix/wallpapers/gruvbox/dark/great-wave-of-kanagawa-gruvbox.png"
// spawn-at-startup "systemctl" "--user" "start" "hyprland-session.target"
// spawn-at-startup "kitty" "--detach" "--title=scratchpad" "--override" "initial_window_width=235c" "--override" "initial_window_height=83c"
// spawn-at-startup "hypridle"

// Miscellaneous
prefer-no-csd
screenshot-path "~/Pictures/Screenshots/Screenshot from %Y-%m-%d %H-%M-%S.png"
